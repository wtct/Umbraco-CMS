<?xml version="1.0"?>

<configuration xmlns:xdt="http://schemas.microsoft.com/XML-Document-Transform">
  <!--
    CAREFUL!
    ========
    
    ONLY edit this if a certain change NEEDS to go into the config of the 
	Umbraco RELEASE version - The version that everybody will download and use    
  -->

  <configSections>
    <sectionGroup name="enyim.com" xdt:Transform="Insert">
      <section name="memcached" type="Enyim.Caching.Configuration.MemcachedClientSection, Enyim.Caching" />
    </sectionGroup>
  </configSections>
  
  <appSettings>
    <add xdt:Transform="Replace" xdt:Locator="Match(key)" key="umbracoDbDSN"
         value=""/>
    <add xdt:Transform="Replace" xdt:Locator="Match(key)" key="umbracoConfigurationStatus"
         value=""/>
    <add xdt:Transform="Replace" xdt:Locator="Match(key)" key="umbracoDebugMode"
         value="false"/>
    <add xdt:Transform="Insert" key="umbracoUseMemcached" value="false" />
    <add xdt:Transform="Insert" key="umbracoMemcachedNamespace" value=""/>
    <add xdt:Transform="Insert" key="umbracoDisablePublishingService" value="false"/>
  </appSettings>

  <enyim.com xdt:Transform="Insert">    
    <!-- 
		Please read the documentation first:
			http://github.com/enyim/EnyimMemcached/wiki/MemcachedClient-Configuration

		Use this section as a template if you're connecting to regular memcached servers.
		Note: you must have the enyim.com/memcached section if you're using the parameterless constructor of EnyimMemcachedClient.
	-->
    <memcached>
      <servers>
        <!-- make sure you use the same ordering of nodes in every configuration you have -->
        <add address="127.0.0.1" port="20002" />
        <add address="127.0.0.1" port="20004" />
        <add address="127.0.0.1" port="20006" />
        <add address="127.0.0.1" port="20008" />
      </servers>
    </memcached>
  </enyim.com>

  <system.web>
    <trust xdt:Transform="Remove"/>
    <trace enabled="false" xdt:Transform="SetAttributes(enabled)" />
    <customErrors mode="RemoteOnly" xdt:Transform="SetAttributes(mode)">
    </customErrors>

    <membership>
      <providers>
        <add xdt:Transform="SetAttributes(useLegacyEncoding)" xdt:Locator="Match(name)" name="UmbracoMembershipProvider" 
              useLegacyEncoding="true" />
        <add xdt:Transform="SetAttributes(useLegacyEncoding)" xdt:Locator="Match(name)" name="UsersMembershipProvider" 
             useLegacyEncoding="true" />
      </providers>
    </membership>
  </system.web>


</configuration>